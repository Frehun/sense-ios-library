<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Sense iOS Platform Library: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Sense iOS Platform Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Sense iOS Platform Library Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Sense iOS Platform Library</h1>
<p>Sense library for sensing and using Common Sense.</p>
<h2>Installation</h2>
<p>The project is setup as a static library. That means you can either compile the project and link against it, or add it as a cross-reference project in Xcode. The latter is explained here.</p>
<ol type="1">
<li>make sure you haven't opened the library project in xcode (not even as a sub project in another project) and open your own project</li>
<li>drag the libraries .xcodeproject file on top of your own project in xcode</li>
<li>add the library target as a target dependency</li>
<li>add the library to "Link binary with libraries"</li>
<li>Include at least the following frameworks in "Link binary with libraries"<ul>
<li>CoreLocation</li>
<li>CoreMotion</li>
<li>CoreAudio</li>
<li>AVFoundation</li>
<li>AudioToolbox</li>
<li>CoreTelephony</li>
<li>SystemConfiguration</li>
</ul>
</li>
<li>Make sure xcode can find the header files by adding the path to "Build settings"-&gt;"User header search path"</li>
<li>Add the following two resources from the resources directory in the library project to your project<ul>
<li>CommonSense.plist</li>
<li>Settings.plist</li>
</ul>
</li>
<li>Add the '-ObjC' and '-load_all' flag to your linker flags (see <a href="https://developer.apple.com/library/mac/#qa/qa2006/qa1490.html">https://developer.apple.com/library/mac/#qa/qa2006/qa1490.html</a>)</li>
<li>in your delegate at startup put [SensePlatform initialize];</li>
<li>in your delegate's willTeminate add [SensePlatform willTerminate];</li>
</ol>
<p>Apple only allows applications to sense in the background if the position sensor is enabled (doesn't matter what accuracy). To do that enable the sensor, but also make sure that you add to your -info.plist file the UIBackgroundModes: "App registers for location updates" and if you're using the noise sensor also add "App plays audio".</p>
<h2>Examples</h2>
<pre class="fragment">Settings* settings = [Settings sharedSettings];
[SensePlatform loginWithUser:username.text andPassword:password.text];
[settings setSettingType:kSettingTypeSpatial setting:kSpatialSettingInterval value:@"60"];
[settings setSettingType:kSettingTypeAmbience setting:kAmbienceSettingInterval value:@"60"];
[settings setSettingType:kSettingTypeGeneral setting:kGeneralSettingUploadInterval value:@"900"];

[settings setSensor:kSENSOR_BATTERY enabled:YES];
[settings setSensor:kSENSOR_NOISE enabled:YES];
[settings setSensor:kSENSOR_ACCELEROMETER enabled:YES];
[settings setSensor:kSENSOR_ACCELERATION enabled:YES];
[settings setSensor:kSENSOR_ORIENTATION enabled:YES];
[settings setSensor:kSENSOR_ROTATION enabled:YES];
[settings setSensor:kSENSOR_MOTION_ENERGY enabled:YES];

[settings setSettingType:kSettingTypeGeneral setting:kGeneralSettingSenseEnabled value:kSettingYES];

NSArray* data = [SensePlatform  getDataForSensor:@"Location" onlyFromDevice:NO nrLastPoints:5];

NSDate* to = [NSDate date];
NSDate* from = [to dateByAddingTimeInterval:-3600];

[SensePlatform giveFeedbackOnState:@"Location" from:from to:to label:@"Work"];</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 19 2012 13:59:55 for Sense iOS Platform Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
